<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=e90356325f06aa3b2ab8edfbbe00f51ee4ebaa0d">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Living With Nuget | Refactoring development</title>
<meta property="og:title" content="Living With Nuget" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Living with NuGet" />
<meta property="og:description" content="Living with NuGet" />
<link rel="canonical" href="/2016/09/25/Living-with-Nuget.html" />
<meta property="og:url" content="/2016/09/25/Living-with-Nuget.html" />
<meta property="og:site_name" content="Refactoring development" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-25T00:00:00+01:00" />
<script type="application/ld+json">
{"name":null,"description":"Living with NuGet","author":null,"@type":"BlogPosting","url":"/2016/09/25/Living-with-Nuget.html","publisher":null,"image":null,"headline":"Living With Nuget","dateModified":"2016-09-25T00:00:00+01:00","datePublished":"2016-09-25T00:00:00+01:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"/2016/09/25/Living-with-Nuget.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <header>
      <div class="container">
        <h1>Refactoring development</h1>
        <h2>Ramblings from the trenches...
</h2>

        <section id="downloads">
          
          <a href="http://github.com/gilescope/gilescope.github.io" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        
<h1 id="living-with-nuget">Living with NuGet</h1>

<p>As NuGet packages are immutable I’m really interested in using a shared package directory for NuGet as suggested here:</p>

<p>http://stackoverflow.com/questions/24617112/storing-nuget-packages-in-alternate-location-on-build-server</p>

<p>As well as time, this would save a ton of diskspace on build agents.</p>

<p> </p>

<h4>Death to Dll Hell</h4>

<p>.Net assembly versioning has always been ‘tricky’. The GAC solves this problem but as many find out the GAC is wac. An alternative to mandatory strong naming of the world is to embed the version in the assembly name (which you bump the version number on each breaking change).</p>

<p>At least with Nuget this gets a bit easier when you’re then upgrading references to the next version.
P.s. Don’t forget klondite </p>

<table>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>There’s something in the air this year, first it was node.js 4 io.js and now Docker have made friends with CoreOS. The announcement of the open container foundation presents a way for everyone to play together and avoid the vendor lock-in that was the instigator of all this in the first place.</td>
    </tr>
  </tbody>
</table>

<p>Read more about the <a href="http://blog.docker.com/2015/06/open-container-project-foundation/" target="_blank">open container foundation</a>.</p>

<h3>Tell me again why any of this matters?</h3>

<p>Why is it important to me? Far more than just an image format, the speed of it due to caching of the layers and the start up times mean that for once we can do micro end-to-end testing. I’ve always argued for building a testbase that is grounded in the business problem rather than in implementation details. What we’re aiming for is trying to test as much of the hooked up end-to-end system as possible quickly. There are naysayers (google) that say end-to-end testing is broken, and if it’s slow and brittle then I’d agree. But by being able to spin up quickly our ecosystem as a set of interacting docker containers I think we may just be able to have our cake and eat it. And by keeping the tests grounded in the business space, a broken test really means something to someone. It’s not an arbitrary broken test that may or may not be worth investigating, it’s a bonefide business use case that is broken - that’s one you can have a discussion about with everyone, not just the developers.</p>

<p>If it’s not possible to specify the business functionality that you’d like to see in code, then you’ve got bigger problems.</p>

<p>In many ways I’m arguing for the <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" target="_blank">BDD</a> given / when / then style (as this avoids the implementation being in the test), but really focusing on the top layer of the onion. By focusing on that layer you’re testing a cohesive system which should have few dependencies.</p>

<h3>Getting started</h3>

<p>Find out more at <a href="https://www.docker.com/whatisdocker" target="_blank">Docker</a>.</p>

<p>See also: Convert Any Server to a Docker Container <a href="https://zwischenzugs.wordpress.com/2015/05/24/convert-any-server-to-a-docker-container/">https://zwischenzugs.wordpress.com/2015/05/24/convert-any-server-to-a-docker-container/</a></p>

<h3>Security</h3>

<p>With Docker, like everything else being more secure requires having less attack surface area. <a href="https://news.ycombinator.com/item?id=10998667">Docker are now moving to a Linux distoro that fits into 5MB</a>. As you can imagine there’s a lot less that an attacker can use in an OS image that small! A company called Iron.Io are leading this with <a href="https://github.com/iron-io/dockers">images</a> for most languages.</p>

<table>
  <tbody>
    <tr>
      <td>If that’s not enough security / simplicity, then the final leap is to merge kernel mode and user mode - i.e. run the operating system merged with the program. This is called a ‘unikernel’. (Quite a few of the unikernel guys are working for Docker so expect more to come on this front!)</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>runtime.js — JavaScript library OS</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>versus Chrome.OS</p>

<p>versus Firefox.OS</p>

<p>or just a cash shell?</p>

      </section>
    </div>

    
  </body>
</html>
